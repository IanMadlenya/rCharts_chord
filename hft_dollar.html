<!doctype HTML>
<meta charset = 'utf-8'>
<html>
<!--
## thanks https://github.com/mbostock/d3/wiki/Chord-Layout
## extend Ben Hunter's implementation of chord diagram in rCharts
## http://mostlyconjecture.com/2014/05/03/chord-diagrams-with-rcharts/

## hft data from
## Baron, Matthew and Brogaard, Jonathan and Kirilenko, Andrei A.,
## Risk and Return in High Frequency Trading
## (May 5, 2014)
## Available at SSRN: http://ssrn.com/abstract=2433118
-->
  <head>
    <link rel='stylesheet' href='http://timelyportfolio.github.io/rCharts_chord/css/style.css'>
    
    <script src='http://timelyportfolio.github.io/rCharts_chord/js/d3.v3.min.js' type='text/javascript'></script>
    <script src='http://timelyportfolio.github.io/rCharts_chord/js/chorddiagram.js' type='text/javascript'></script>
    
    <style>
    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 700px;
      height: 700px;
    }  
    </style>
    
  </head>
  <body >
    
    <div id = 'chart2c0861b15e0f' class = 'rChart rCharts_chord'></div>    
    
    <script type="text/javascript">
    function drawchart2c0861b15e0f(){
      var params = {
 "dom": "chart2c0861b15e0f",
"width":    700,
"height":    700,
"data": [
 {
 "name": "HFTa",
"color": "#F7FBFF" 
},
{
 "name": "HFTm",
"color": "#DEEBF7" 
},
{
 "name": "HFTp",
"color": "#C6DBEF" 
},
{
 "name": "Non-HFTMM",
"color": "#9ECAE1" 
},
{
 "name": "Fundamental",
"color": "#6BAED6" 
},
{
 "name": "Opportunistic",
"color": "#4292C6" 
},
{
 "name": "SmallTrader",
"color": "#2171B5" 
} 
],
"matrix": [ [      0, 7.1901e+06, 2.557e+06, 1.9627e+06, 1.6917e+06, 8.1714e+06, 3.7928e+05 ],
[      0,      0, 1.4001e+06, 1.6074e+06, 3.763e+05, 1.5358e+07, 1.219e+06 ],
[      0,      0,      0,  84300,      0, 4.3231e+06, 4.2554e+05 ],
[      0,      0,      0,      0,      0, 1.06e+06, 1.2052e+05 ],
[      0,      0, 3.7344e+05, 3.8269e+05,      0, 2.3218e+06, 1.1955e+05 ],
[      0,      0,      0,      0,      0,      0, 3.3915e+05 ],
[      0,      0,      0,      0,      0,      0,      0 ] ],
"id": "chart2c0861b15e0f",
"removeSmall": true,
"titleText": "#!\nfunction(d){\n    return d.source.name + ' takes $' + d3.format(',.f')(d.d.source.value) + ' from '  +d.target.name\n}!#" 
}
      var chart = d3.chordDiagram()
  .width(   700)
  .height(   700)
  .id("chart2c0861b15e0f")
  .removeSmall(true)
  .titleText(
function(d){
    return d.source.name + ' takes $' + d3.format(',.f')(d.d.source.value) + ' from '  +d.target.name
})
      
      d3.select("#" + params.id) 
        .datum({"data":[{"name":"HFTa","color":"#F7FBFF"},{"name":"HFTm","color":"#DEEBF7"},{"name":"HFTp","color":"#C6DBEF"},{"name":"Non-HFTMM","color":"#9ECAE1"},{"name":"Fundamental","color":"#6BAED6"},{"name":"Opportunistic","color":"#4292C6"},{"name":"SmallTrader","color":"#2171B5"}], "matrix":[[0,7190140,2557038,1962675,1691738,8171350,379275],[0,0,1400125,1607400,376300,15358325,1219050],[0,0,0,84300,0,4323100,425538],[0,0,0,0,0,1060000,120525],[0,0,373438,382688,0,2321775,119550],[0,0,0,0,0,0,339150],[0,0,0,0,0,0,0]] })
        .call(chart)
        return chart;
      };
      
      //$(document).ready(function(){
        drawchart2c0861b15e0f()
    //});
    
    </script>
    
    <script></script>    
  </body>
</html>
